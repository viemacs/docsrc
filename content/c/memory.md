---
weight: 20
title: C
---

## Memory

### 内存分配方式中的 栈、堆、自由存储区、全局与静态存储区、常量存储区
- 栈  
    栈是由编译器管理的变量存储区，在需要时分配，在不需要时自动释放。用户栈位于用户进程地址空间的顶部，在执行期间可以**动态地扩展和收缩**。栈中的变量有局部变量、函数参数，编译器也会用栈来实现函数调用。

- 堆  
    堆是由用户程序主动管理的内存块，编译器不做管理。堆上的内存用 new 分配，用 delete 释放。没有释放的内存在用户程序结束后由操作系统回收。堆可以*动态地扩展和收缩*。

- 自由存储区  
    自由存储区和堆相似。自由存储区的内存用 malloc 分配，用 free 释放。

- 全局与静态存储区  
    全局变量和静态变量的内存存储区。在 C++ 中为一块内存区。在 C 中，静态变量和初始化的全局变量在一块内存区，未初始化的全局变量在相邻的内存区。可通过 void* 来操作未初始化变量的存储区。全局和静态变量都在程序结束时由系统进行释放。

- 常量存储区  
    常量存储，不允许修改其中的变量。

